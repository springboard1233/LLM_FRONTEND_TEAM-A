<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Fraud Transaction Detection</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <!-- Dashboard Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <div class="welcome-section">
                <h1 class="welcome-title">Welcome to Fraud Transaction Detection <span id="userName">User</span>! üõ°Ô∏è</h1>
                <p class="welcome-subtitle">Your AI-powered security system is ready</p>
            </div>
                                                  <div class="header-controls">
                  <div class="profile-section">
                     <div class="profile-icon" onclick="toggleProfileMenu()">
                         <i class='bx bxs-user-circle'></i>
                     </div>
                     <div class="profile-menu" id="profileMenu">
                    <div class="profile-menu-item">
                        <i class='bx bxs-user'></i>
                        <span>My Profile</span>
                    </div>
                    <div class="profile-menu-item">
                        <i class='bx bxs-cog'></i>
                        <span>Settings</span>
                    </div>
                    <div class="profile-menu-item">
                        <i class='bx bxs-log-out'></i>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Dashboard Main Content -->
    <main class="dashboard-main">
        <div class="dashboard-container">
            <!-- File Upload Section -->
            <div class="upload-section">
                <h2>üìä Dataset Analysis</h2>
                <p>Upload your CSV dataset for fraud detection analysis</p>
                
                <div class="file-upload-area" id="fileUploadArea">
                    <div class="upload-icon">
                        <i class='bx bxs-cloud-upload'></i>
                    </div>
                    <h3>Upload CSV File</h3>
                    <p>Drag & drop your CSV file here or click to browse</p>
                    <p class="file-requirements">Only .csv files are accepted</p>
                    <input type="file" id="csvFileInput" accept=".csv" style="display: none;">
                    <button class="upload-btn" onclick="document.getElementById('csvFileInput').click()">
                        Choose File
                    </button>
                </div>

                <!-- Upload Progress -->
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p id="progressText">Uploading...</p>
                </div>

                <!-- Analysis Results -->
                <div class="analysis-results" id="analysisResults" style="display: none;">
                    <h3>üìà Dataset Analysis Results</h3>
                    
                    <!-- Basic Statistics -->
                    <div class="analysis-section">
                        <h4>üìä Basic Statistics</h4>
                        <div class="stats-grid" id="basicStats"></div>
                    </div>

                    <!-- Data Quality -->
                    <div class="analysis-section">
                        <h4>üîç Data Quality Analysis</h4>
                        <div class="quality-metrics" id="dataQuality"></div>
                    </div>

                    <!-- Column Analysis -->
                    <div class="analysis-section">
                        <h4>üìã Column Analysis</h4>
                        <div class="column-analysis" id="columnAnalysis"></div>
                    </div>

                    <!-- Data Distribution -->
                    <div class="analysis-section">
                        <h4>üìä Data Distribution</h4>
                        <div class="distribution-charts" id="dataDistribution"></div>
                    </div>

                    <!-- Correlation Analysis -->
                    <div class="analysis-section">
                        <h4>üîó Correlation Analysis</h4>
                        <div class="correlation-matrix" id="correlationAnalysis"></div>
                    </div>

                    <!-- Missing Values -->
                    <div class="analysis-section">
                        <h4>‚ö†Ô∏è Missing Values Analysis</h4>
                        <div class="missing-values" id="missingValues"></div>
                    </div>

                                         <!-- Fraud vs Legitimate Analysis -->
                     <div class="analysis-section">
                         <h4>üïµÔ∏è Fraud vs Legitimate Analysis</h4>
                         <div class="fraud-analysis" id="fraudAnalysis"></div>
                     </div>

                     <!-- Transaction Summary -->
                     <div class="analysis-section">
                         <h4>üí∞ Transaction Summary</h4>
                         <div class="transaction-summary" id="transactionSummary"></div>
                     </div>

                     <!-- Spending Categories -->
                     <div class="analysis-section">
                         <h4>üìä Spending Categories</h4>
                         <div class="spending-categories" id="spendingCategories"></div>
                     </div>
                </div>
            </div>
        </div>
    </main>

                                       <!-- Profile Card Modal -->
       <div class="profile-modal" id="profileModal">
           <div class="profile-modal-content">
               <div class="profile-modal-header">
                   <h3>My Profile</h3>
                   <button class="close-profile" onclick="closeProfileModal()" aria-label="Close profile">
                       <i class='bx bx-x'></i>
                   </button>
               </div>
               <div class="profile-modal-body">
                   <div class="profile-card">
                       <div class="profile-left">
                           <div class="profile-photo">
                               <i class='bx bxs-user'></i>
                           </div>
                       </div>
                       <div class="profile-right">
                           <div class="profile-details">
                               <div class="detail-item">
                                   <label><i class='bx bxs-user'></i> Full Name</label>
                                   <div class="detail-value" id="profileFullName">Loading...</div>
                               </div>
                               <div class="detail-item">
                                   <label><i class='bx bxs-envelope'></i> Email</label>
                                   <div class="detail-value" id="profileEmail">Loading...</div>
                               </div>
                               <div class="detail-item">
                                   <label><i class='bx bxs-phone'></i> Mobile</label>
                                   <div class="detail-value" id="profileMobile">Loading...</div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>

     <!-- Logout Confirmation Modal -->
     <div class="logout-modal" id="logoutModal">
        <div class="logout-modal-content">
            <div class="logout-modal-header">
                <div class="logout-icon">
                    <i class='bx bxs-log-out'></i>
                </div>
                <h3>Confirm Logout</h3>
            </div>
            <div class="logout-modal-body">
                <p>Are you sure you want to logout from your dashboard?</p>
            </div>
            <div class="logout-modal-actions">
                <button class="btn-cancel" onclick="cancelLogout()">
                    <i class='bx bx-x'></i>
                    Cancel
                </button>
                <button class="btn-confirm" onclick="confirmLogout()">
                    <i class='bx bx-check'></i>
                    Yes, Logout
                </button>
            </div>
        </div>
    </div>

                   <!-- Settings Modal -->
      <div class="settings-modal" id="settingsModal">
          <div class="settings-modal-content">
              <div class="settings-modal-header">
                  <h3><i class='bx bxs-cog'></i> Settings</h3>
                  <button class="close-settings" onclick="closeSettingsModal()" aria-label="Close settings">
                      <i class='bx bx-x'></i>
                  </button>
              </div>
              <div class="settings-modal-body">
                  <div class="settings-disabled">
                      <div class="disabled-icon">
                          <i class='bx bxs-lock'></i>
                      </div>
                      <h4>Settings Currently Unavailable</h4>
                      <p>Settings panel is temporarily disabled. Please check back later.</p>
                  </div>
              </div>
          </div>
      </div>

     <!-- Firebase SDK -->
     <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
     <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
     <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
     <script src="../templates/firebase-config.js"></script>
     
     <script src="dashboard.js"></script>
 </body>
 </html>
